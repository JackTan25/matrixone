create table t(a int primary key);
insert into t select * from generate_series(1,200000) g;
select count(*) from t;
count(*)
200000
insert into t select * from t;
Duplicate entry '1' for key 'a'
select count(*) from t;
count(*)
200000
begin;
select count(*) from t;
count(*)
200000
insert into t select * from t;
select count(*) from t;
count(*)
400000
commit;
Duplicate entry '1' for key 'a'
select count(*) from t;
count(*)
200000
